{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luminary\\\\Projects\\\\KDS\\\\client\\\\src\\\\layout\\\\forgatPassForm.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport NewPassword from '../components/newPassword';\nexport class forgatPassForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      question: '',\n      answer: '',\n      correctAnswer: '',\n      isVisible: false,\n      isNewpass: false,\n      message: ''\n    };\n\n    this.findQuestion = async () => {\n      if (this.state.username !== '') {\n        const response = await fetch(`/api/admin/getByUsername/${this.state.username}`);\n        const admin = await response.json();\n\n        if (admin.length === 0) {\n          this.setState({\n            message: \"there is no such user\",\n            isVisible: false\n          });\n        } else {\n          this.setState({\n            question: admin[0].question,\n            correctAnswer: admin[0].answer,\n            isVisible: true,\n            message: \"\"\n          });\n        }\n      }\n    };\n\n    this.checkQuestion = () => {\n      if (this.state.answer === this.state.correctAnswer) {\n        this.setState({\n          isNewpass: true,\n          message: \"\"\n        });\n      } else {\n        this.setState({\n          isNewpass: false,\n          message: \"wrong answer\"\n        });\n      }\n    };\n\n    this.changeInput = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n  }\n\n  render() {\n    const {\n      username,\n      question,\n      answer,\n      message,\n      isVisible,\n      isNewpass\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }), !isNewpass ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 34\n      }\n    }, !isVisible ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"formCenter\",\n      type: \"text\",\n      id: \"username\",\n      placeholder: \"Username\",\n      value: username,\n      onChange: this.changeInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"formCenter\",\n      id: \"next\",\n      onClick: this.findQuestion,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, \" Next \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"formCenter\",\n      id: \"question\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }, question), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"formCenter\",\n      type: \"text\",\n      id: \"answer\",\n      placeholder: \"Answer\",\n      value: answer,\n      onChange: this.changeInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"formCenter\",\n      id: \"next2\",\n      onClick: this.checkQuestion,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, \" Next \"))) : /*#__PURE__*/React.createElement(NewPassword, {\n      username: username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 30\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"formCenter\",\n      id: \"message\",\n      onChange: this.changeInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, message), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      className: \"formCenter\",\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, \" Login \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      className: \"formCenter\",\n      to: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \" Sign Up \"));\n  }\n\n}\nexport default forgatPassForm;","map":{"version":3,"sources":["C:/Users/luminary/Projects/KDS/client/src/layout/forgatPassForm.js"],"names":["React","Component","Link","NewPassword","forgatPassForm","state","username","question","answer","correctAnswer","isVisible","isNewpass","message","findQuestion","response","fetch","admin","json","length","setState","checkQuestion","changeInput","e","target","id","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport NewPassword from '../components/newPassword'\r\n\r\n\r\nexport class forgatPassForm extends Component {\r\n\r\n    state = {\r\n        username: '',\r\n        question: '',\r\n        answer: '',\r\n        correctAnswer: '',\r\n        isVisible: false,\r\n        isNewpass: false,\r\n        message: ''\r\n\r\n    }\r\n\r\n\r\n    findQuestion = async () => {\r\n        if (this.state.username !== '') {\r\n            const response = await fetch(`/api/admin/getByUsername/${this.state.username}`)\r\n            const admin = await response.json();\r\n            if (admin.length === 0) {\r\n                this.setState({\r\n                    message: \"there is no such user\",\r\n                    isVisible: false\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    question: admin[0].question,\r\n                    correctAnswer: admin[0].answer,\r\n                    isVisible: true,\r\n                    message: \"\"\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    checkQuestion = () => {\r\n        if (this.state.answer === this.state.correctAnswer) {\r\n            this.setState({\r\n                isNewpass: true,\r\n                message: \"\"\r\n            })\r\n        } else {\r\n            this.setState({\r\n                isNewpass: false,\r\n                message: \"wrong answer\"\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n    changeInput = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { username, question, answer, message, isVisible, isNewpass } = this.state\r\n\r\n        return (\r\n            <div className=\"center\">\r\n                <hr />\r\n                {\r\n                    !isNewpass ? <div>\r\n                        {\r\n                        !isVisible ? <div>\r\n                            <input className=\"formCenter\" type=\"text\" id=\"username\" placeholder=\"Username\" value={username} onChange={this.changeInput} />\r\n                            <button className=\"formCenter\" id=\"next\" onClick={this.findQuestion}> Next </button>\r\n                            <br />\r\n                        </div> : <div>\r\n\r\n                            <h4 className=\"formCenter\" id=\"question\" >{question}</h4>\r\n                            <input className=\"formCenter\" type=\"text\" id=\"answer\" placeholder=\"Answer\" value={answer} onChange={this.changeInput} />\r\n                            <button className=\"formCenter\" id=\"next2\" onClick={this.checkQuestion}> Next </button>\r\n                        </div>\r\n                    }\r\n                    </div> : <NewPassword username={username} />\r\n\r\n\r\n                }\r\n\r\n                <h6 className=\"formCenter\" id=\"message\" onChange={this.changeInput}   >{message}</h6>\r\n                <hr />\r\n                <Link className=\"formCenter\" to=\"/login\"> Login </Link>\r\n                <br />\r\n                <Link className=\"formCenter\" to=\"/signup\"> Sign Up </Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default forgatPassForm\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}