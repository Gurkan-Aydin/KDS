{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luminary\\\\Projects\\\\KDS\\\\client\\\\src\\\\contexts\\\\adminContext.js\";\nimport React, { Component } from 'react';\nconst AdminContext = React.createContext();\nexport class AdminProvider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.reducer = action => {\n      switch (action.type) {\n        case \"deleteAdmin\":\n          return {\n            /* guncellenmis state */\n          };\n\n        case \"getAdminByUsername\":\n          let a = this.getAdminByUsername(action.payload);\n          console.log({\n            a\n          });\n          this.setState({\n            admins: this.getAdminByUsername(action.payload)\n          });\n          console.log(this.state);\n\n        default:\n          console.log(\"wrong action\");\n          return this.state;\n      }\n    };\n\n    this.getAdminByUsername = async name => {\n      await fetch(`/api/admin/getByUsername/${name}`).then(res => res.json()).then(admin => {\n        console.log(admin);\n        this.setState({\n          admin: admin\n        });\n      });\n    };\n\n    this.state = {\n      admins: [{\n        id: \"-\",\n        name: \"-\",\n        lastname: \"-\",\n        username: \"-\",\n        mail: \"-\",\n        password: \"-\"\n      }],\n      dispatch: action => {\n        this.reducer(action);\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(AdminContext.Provider, {\n      value: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, this.props.children);\n  }\n\n}\nconst AdminConsumer = AdminContext.Consumer;\nexport default AdminConsumer;","map":{"version":3,"sources":["C:/Users/luminary/Projects/KDS/client/src/contexts/adminContext.js"],"names":["React","Component","AdminContext","createContext","AdminProvider","constructor","props","reducer","action","type","a","getAdminByUsername","payload","console","log","setState","admins","state","name","fetch","then","res","json","admin","id","lastname","username","mail","password","dispatch","render","children","AdminConsumer","Consumer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,MAAMC,YAAY,GAAGF,KAAK,CAACG,aAAN,EAArB;AAKA,OAAO,MAAMC,aAAN,SAA4BH,SAA5B,CAAsC;AAsBzCI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SArBnBC,OAqBmB,GArBRC,MAAD,IAAY;AAClB,cAAQA,MAAM,CAACC,IAAf;AACI,aAAK,aAAL;AACI,iBAAO;AACH;AADG,WAAP;;AAGJ,aAAK,oBAAL;AACI,cAAIC,CAAC,GAAG,KAAKC,kBAAL,CAAwBH,MAAM,CAACI,OAA/B,CAAR;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY;AAACJ,YAAAA;AAAD,WAAZ;AACA,eAAKK,QAAL,CAAc;AACVC,YAAAA,MAAM,EAAE,KAAKL,kBAAL,CAAwBH,MAAM,CAACI,OAA/B;AADE,WAAd;AAIDC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKG,KAAjB;;AAEH;AACIJ,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,iBAAO,KAAKG,KAAZ;AAhBR;AAkBH,KAEkB;;AAAA,SAuBnBN,kBAvBmB,GAuBE,MAAOO,IAAP,IAAe;AAC5B,YAAMC,KAAK,CAAE,4BAA2BD,IAAK,EAAlC,CAAL,CACLE,IADK,CACAC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADP,EAELF,IAFK,CAEAG,KAAK,IAAI;AACbV,QAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ;AACA,aAAKR,QAAL,CAAc;AACVQ,UAAAA,KAAK,EAAEA;AADG,SAAd;AAID,OARK,CAAN;AASH,KAjCc;;AAGf,SAAKN,KAAL,GAAa;AACTD,MAAAA,MAAM,EAAE,CAAE;AACNQ,QAAAA,EAAE,EAAE,GADE;AAENN,QAAAA,IAAI,EAAE,GAFA;AAGNO,QAAAA,QAAQ,EAAE,GAHJ;AAINC,QAAAA,QAAQ,EAAE,GAJJ;AAKNC,QAAAA,IAAI,EAAE,GALA;AAMNC,QAAAA,QAAQ,EAAE;AANJ,OAAF,CADC;AASTC,MAAAA,QAAQ,EAAGrB,MAAD,IAAY;AAClB,aAAKD,OAAL,CAAaC,MAAb;AACH;AAXQ,KAAb;AAgBH;;AAgBDsB,EAAAA,MAAM,GAAG;AACL,wBACI,oBAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAE,KAAKb,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKX,KAAL,CAAWyB,QADhB,CADJ;AAKH;;AA/DwC;AAkE7C,MAAMC,aAAa,GAAG9B,YAAY,CAAC+B,QAAnC;AAEA,eAAeD,aAAf","sourcesContent":["import React, { Component } from 'react'\r\n\r\nconst AdminContext = React.createContext();\r\n\r\n\r\n\r\n\r\nexport class AdminProvider extends Component {\r\n    reducer = (action) => {\r\n        switch (action.type) {\r\n            case \"deleteAdmin\":\r\n                return {\r\n                    /* guncellenmis state */\r\n                }\r\n            case \"getAdminByUsername\":\r\n                let a = this.getAdminByUsername(action.payload);\r\n                console.log({a})\r\n                this.setState({\r\n                    admins: this.getAdminByUsername(action.payload)\r\n                })\r\n                 \r\n               console.log(this.state)\r\n                   \r\n            default:\r\n                console.log(\"wrong action\");\r\n                return this.state\r\n        }\r\n    }\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            admins: [ {\r\n                id: \"-\",\r\n                name: \"-\",\r\n                lastname: \"-\",\r\n                username: \"-\",\r\n                mail: \"-\",\r\n                password: \"-\"\r\n            }],\r\n            dispatch: (action) => {\r\n                this.reducer(action);\r\n            }\r\n            \r\n        }\r\n        \r\n\r\n    }\r\n\r\n    \r\n    \r\n    getAdminByUsername = async (name) =>{\r\n            await fetch(`/api/admin/getByUsername/${name}`)\r\n            .then(res => res.json())\r\n            .then(admin => {\r\n              console.log(admin);\r\n              this.setState({\r\n                  admin: admin\r\n              })\r\n                \r\n            })\r\n        }\r\n\r\n    render() {\r\n        return (\r\n            <AdminContext.Provider value={this.state}>\r\n                {this.props.children}\r\n            </AdminContext.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nconst AdminConsumer = AdminContext.Consumer;\r\n\r\nexport default AdminConsumer;\r\n"]},"metadata":{},"sourceType":"module"}