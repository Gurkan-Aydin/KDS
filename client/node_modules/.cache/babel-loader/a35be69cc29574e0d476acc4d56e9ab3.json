{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luminary\\\\Projects\\\\KDS\\\\client\\\\src\\\\layout\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport employee from \"../images/employee.svg\";\nimport statu from \"../images/statu.svg\";\nimport criteria from '../images/criteria.png';\nexport class index extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentAdmin: JSON.parse(localStorage.getItem('currentAdmin')),\n      employee: \"\",\n      statu: \"\",\n      criterion: \"\",\n      isValid: false,\n      getData: async () => {\n        await this.getEmployee();\n        await this.getCriterion();\n        await this.getStatu();\n        if (this.currentAdmin !== null) this.setState({\n          isValid: true\n        });\n      }\n    };\n\n    this.deleteLocal = () => {\n      localStorage.clear();\n    };\n\n    this.getEmployee = async () => {\n      const response = await fetch(`/api/employee/getByAdminId/${this.state.currentAdmin.loggedAdmin.id}`);\n      const data = await response.json();\n      await localStorage.setItem('employees', JSON.stringify(data));\n    };\n\n    this.getStatu = async () => {\n      const response = await fetch(`/api/statu/getByAdminId/${this.state.currentAdmin.loggedAdmin.id}`);\n      const data = await response.json();\n      localStorage.setItem('statu', JSON.stringify(data));\n    };\n\n    this.getCriterion = async () => {\n      const response = await fetch(`/api/criterion/getByAdminId/${this.state.currentAdmin.loggedAdmin.id}`);\n      const data = await response.json();\n      localStorage.setItem('criterion', JSON.stringify(data));\n    };\n\n    this.getCurrentAdmin = async () => {\n      let current = await JSON.parse(localStorage.getItem('currentAdmin'));\n      this.setState({\n        isValid: true\n      });\n      return current;\n    };\n\n    this.componentDidMount = async () => {\n      this.state.getData();\n      this.setState({\n        employee: await JSON.parse(localStorage.getItem('employee')),\n        statu: await JSON.parse(localStorage.getItem('statu')),\n        criterion: await JSON.parse(localStorage.getItem('criterion'))\n      });\n      console.log(this.state);\n    };\n  }\n\n  render() {\n    const {\n      isValid\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, isValid ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center60\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/employee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: employee,\n      alt: \"employee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 41\n      }\n    }, \"EMPLOYEES\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/statu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: statu,\n      alt: \"statu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 41\n      }\n    }, \"STATU\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/criteria\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: criteria,\n      alt: \"criteria\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 41\n      }\n    }, \"CRITERIA\")))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.deleteLocal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }, \"delete\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => {\n        console.log(this.state);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, \"state\")) : null);\n  }\n\n}\nexport default index;","map":{"version":3,"sources":["C:/Users/luminary/Projects/KDS/client/src/layout/index.js"],"names":["React","Component","Link","criteria","index","state","currentAdmin","JSON","parse","localStorage","getItem","employee","statu","criterion","isValid","getData","getEmployee","getCriterion","getStatu","setState","deleteLocal","clear","response","fetch","loggedAdmin","id","data","json","setItem","stringify","getCurrentAdmin","current","componentDidMount","console","log","render","e"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport employee from '../images/employee.svg'\r\nimport statu from '../images/statu.svg'\r\nimport criteria from '../images/criteria.png'\r\n\r\n\r\nexport class index extends Component {\r\n\r\n    state = {\r\n        currentAdmin: JSON.parse(localStorage.getItem('currentAdmin')),\r\n            \r\n        \r\n        employee: \"\",\r\n        statu: \"\",\r\n        criterion: \"\",\r\n\r\n        isValid: false,\r\n\r\n        getData: async () => {\r\n            await this.getEmployee();\r\n            await this.getCriterion();\r\n            await this.getStatu();\r\n            if (this.currentAdmin !== null) this.setState({ isValid: true });\r\n        },\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    deleteLocal = () => {\r\n        localStorage.clear();\r\n    }\r\n\r\n    getEmployee = async () => {\r\n        const response = await fetch(`/api/employee/getByAdminId/${this.state.currentAdmin.loggedAdmin.id}`);\r\n        const data = await response.json();\r\n        await localStorage.setItem('employees', JSON.stringify(data))\r\n    }\r\n\r\n    getStatu = async () => {\r\n        const response = await fetch(`/api/statu/getByAdminId/${this.state.currentAdmin.loggedAdmin.id}`);\r\n        const data = await response.json();\r\n        localStorage.setItem('statu', JSON.stringify(data))\r\n    }\r\n\r\n    getCriterion = async () => {\r\n        const response = await fetch(`/api/criterion/getByAdminId/${this.state.currentAdmin.loggedAdmin.id}`);\r\n        const data = await response.json();\r\n        localStorage.setItem('criterion', JSON.stringify(data))\r\n    }\r\n\r\n    getCurrentAdmin = async () => {\r\n        let current = await JSON.parse(localStorage.getItem('currentAdmin'));\r\n        this.setState({\r\n            isValid: true\r\n        })\r\n        return current;\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n         this.state.getData()\r\n         this.setState({\r\n            employee: await JSON.parse(localStorage.getItem('employee')),\r\n            statu: await JSON.parse(localStorage.getItem('statu')),\r\n            criterion: await JSON.parse(localStorage.getItem('criterion')),\r\n        })\r\n        console.log(this.state)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isValid } = this.state;\r\n        return (\r\n            <div>\r\n                {\r\n                    (isValid) ?\r\n                        <div className=\"center60\">\r\n\r\n                            <div className=\"col3\">\r\n                                <Link to=\"/employee\">\r\n                                    <img src={employee} alt=\"employee\" />\r\n                                    <h4><i>EMPLOYEES</i></h4>\r\n                                </Link>\r\n                            </div>\r\n                            <div className=\"col3\">\r\n                                <Link to=\"/statu\">\r\n                                    <img src={statu} alt=\"statu\" />\r\n                                    <h4><i>STATU</i></h4>\r\n                                </Link>\r\n                            </div>\r\n                            <div className=\"col3\">\r\n                                <Link to=\"/criteria\">\r\n                                    <img src={criteria} alt=\"criteria\" />\r\n                                    <h4><i>CRITERIA</i></h4>\r\n                                </Link>\r\n                            </div>\r\n                            <button onClick={this.deleteLocal}>delete</button>\r\n                            <button onClick={e => { console.log(this.state) }}>state</button>\r\n\r\n                        </div> : null\r\n                }\r\n            </div>\r\n\r\n\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default index\r\n"]},"metadata":{},"sourceType":"module"}