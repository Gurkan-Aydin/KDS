{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luminary\\\\Projects\\\\KDS\\\\client\\\\src\\\\layout\\\\forgatPassForm.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport NewPassword from './newPassword';\nexport class forgatPassForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      question: '',\n      answer: '',\n      correctAnswer: '',\n      isVisible: false,\n      isNewpass: false,\n      message: ''\n    };\n\n    this.findQuestion = async () => {\n      console.log(this.state.username);\n\n      if (this.state.username !== '') {\n        const response = await fetch(`/api/admin/getByUsername/${this.state.username}`);\n        const admin = await response.json();\n        console.log(admin);\n\n        if (admin.length === 0) {\n          this.setState({\n            question: \"there is no such user\",\n            isVisible: false\n          });\n        } else {\n          console.log(admin[0].question);\n          this.setState({\n            question: admin[0].question,\n            correctAnswer: admin[0].answer,\n            isVisible: true\n          });\n        }\n      }\n    };\n\n    this.checkQuestion = () => {\n      if (this.state.answer === this.state.correctAnswer) {\n        this.setState({\n          isNewpass: true\n        });\n      } else {\n        this.setState({\n          isNewpass: false,\n          message: \"wrong answer\"\n        });\n      }\n    };\n\n    this.changeInput = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n  }\n\n  render() {\n    const {\n      username,\n      question,\n      answer,\n      message,\n      isVisible\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }), isNewpass ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }\n    }, \"!isVisible ? \", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"formCenter\",\n      type: \"text\",\n      id: \"username\",\n      placeholder: \"Username\",\n      value: username,\n      onChange: this.changeInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"formCenter\",\n      id: \"next\",\n      onClick: this.findQuestion,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, \" Next \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    })), \" : \", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"formCenter\",\n      id: \"question\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }, question), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"formCenter\",\n      type: \"text\",\n      id: \"answer\",\n      placeholder: \"Answer\",\n      value: answer,\n      onChange: this.changeInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"formCenter\",\n      id: \"next2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, \" Next \"))) : /*#__PURE__*/React.createElement(NewPassword, {\n      username: username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"formCenter\",\n      id: \"message\",\n      onChange: this.changeInput,\n      value: message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      className: \"formCenter\",\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, \" Login \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      className: \"formCenter\",\n      to: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, \" Sign Up \"));\n  }\n\n}\nexport default forgatPassForm;","map":{"version":3,"sources":["C:/Users/luminary/Projects/KDS/client/src/layout/forgatPassForm.js"],"names":["React","Component","Link","BrowserRouter","Router","Route","Switch","NewPassword","forgatPassForm","state","username","question","answer","correctAnswer","isVisible","isNewpass","message","findQuestion","console","log","response","fetch","admin","json","length","setState","checkQuestion","changeInput","e","target","id","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport NewPassword from './newPassword'\r\n\r\n\r\nexport class forgatPassForm extends Component {\r\n\r\n    state = {\r\n        username: '',\r\n        question: '',\r\n        answer: '',\r\n        correctAnswer: '',\r\n        isVisible: false,\r\n        isNewpass: false,\r\n        message: ''\r\n\r\n    }\r\n\r\n\r\n    findQuestion = async () => {\r\n        console.log(this.state.username)\r\n        if (this.state.username !== '') {\r\n            const response = await fetch(`/api/admin/getByUsername/${this.state.username}`)\r\n            const admin = await response.json();\r\n            console.log(admin)\r\n            if (admin.length === 0) {\r\n                this.setState({\r\n                    question: \"there is no such user\",\r\n                    isVisible: false\r\n                })\r\n            } else{\r\n                console.log(admin[0].question)\r\n                this.setState({\r\n                    question: admin[0].question,\r\n                    correctAnswer: admin[0].answer,\r\n                    isVisible: true\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    checkQuestion = () => {\r\n        if (this.state.answer === this.state.correctAnswer) {\r\n            this.setState({\r\n                isNewpass: true\r\n            })\r\n        } else {\r\n            this.setState({\r\n                isNewpass: false,\r\n                message: \"wrong answer\"\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n    changeInput = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { username, question, answer, message, isVisible } = this.state\r\n        \r\n        return (\r\n            <div className=\"center\">\r\n                <hr />\r\n                {\r\n                    isNewpass ? <div> \r\n                        !isVisible ? <div>\r\n                        <input className=\"formCenter\" type=\"text\" id=\"username\" placeholder=\"Username\" value={username} onChange={this.changeInput} />\r\n                        <button className=\"formCenter\" id=\"next\" onClick={this.findQuestion}> Next </button>\r\n                        <br />\r\n                    </div> : <div>\r\n                            \r\n                            <h4 className=\"formCenter\" id=\"question\" >{question}</h4>\r\n                            <input className=\"formCenter\" type=\"text\" id=\"answer\" placeholder=\"Answer\" value={answer} onChange={this.changeInput} />\r\n                            <button className=\"formCenter\" id=\"next2\" > Next </button>\r\n                        </div>\r\n                    </div>: <NewPassword username={username} />\r\n                    \r\n                    \r\n                }\r\n\r\n                <br />\r\n                <h6 className=\"formCenter\" id=\"message\" onChange={this.changeInput} value={message}  ></h6>\r\n                <hr />\r\n                <Link className=\"formCenter\" to=\"/login\"> Login </Link>\r\n                <br />\r\n                <Link className=\"formCenter\" to=\"/signup\"> Sign Up </Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default forgatPassForm\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}